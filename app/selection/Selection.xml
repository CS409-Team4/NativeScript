<Page loaded="pageLoaded"
	xmlns:lv="nativescript-telerik-ui/listview">
	<ActionBar title="IUI Nativescript" id="{{ isReorderActive ? 'action-bar-reorder' : 'action-bar-selection' }}">
		<android>
		<NavigationButton icon="res://ic_back" tap="goBack" />
		<ActionBar.actionItems>
			<!--<ActionItem android:icon="res://ic_reorder_action_bar" tap="{{ onActivateReorderTap }}" visibility="{{(isReorderActive || isSelectionActive) ? 'collapsed' : 'visible' }}" />-->
			<ActionItem android:icon="res://ic_reorder_action_bar" tap="{{onActivateReorderTap}}" visibility="{{(isReorderActive || isSelectionActive) ? 'collapsed' : 'visible' }}" />
			<ActionItem android:icon="res://ic_add_to_fav" tap="{{ onToggleSelectedFavoriteTap }}" visibility="{{!isSelectionActive ? 'collapsed' : 'visible' }}" />
			<ActionItem android:icon="res://ic_delete" tap="{{ onDeleteSelectedTap }}" visibility="{{!isSelectionActive ? 'collapsed' : 'visible' }}" />
		</ActionBar.actionItems>
		<ActionBar.titleView>
			<StackLayout orientation="horizontal">
				<Label text="Selection" visibility="{{ (isReorderActive || isSelectionActive) ? 'collapsed' : 'visible'}}" id="title-view-item" />
				<Label text="Reorder" visibility="{{ (isReorderActive && !isSelectionActive) ? 'visible' : 'collapsed'}}" id="title-view-item"/>
				<Label text="{{'' + selectedItemsCount }}" visibility="{{ isSelectionActive ? 'visible' : 'collapsed'}}" id="title-view-item"/>
			</StackLayout>
		</ActionBar.titleView>
		</android>
	</ActionBar>
	<StackLayout orientation="vertical">
	<SegmentedBar row="0" selectedIndex="{{ all_favorite }}"
	selectedBackgroundColor="#FAC950"
	id="segmented-bar"
	selectedIndexChanged="selectedIndexChanged">
		<SegmentedBar.items>
			<SegmentedBarItem title="ALL" />
			<SegmentedBarItem title="FAVORITES" />
		</SegmentedBar.items>
	</SegmentedBar>
	<lv:RadListView row="1" id="list-view"
 		items="{{ posts }}" 
		itemTap="onItemTap">
	<lv:RadListView.listViewLayout>
		<lv:ListViewLinearLayout scrollDirection="Vertical"/>
		</lv:RadListView.listViewLayout>
		<lv:RadListView.itemTemplate>
		<StackLayout orientation="vertical" >
		<GridLayout columns="auto, *">
			<lv:ReorderHandle col="0" visibility="{{ reorderActive ? 'visible' : 'collapsed' }}" verticalAlignment="center">
				<Image src="res://ic_reorder" id="reorder-handle"/>
			</lv:ReorderHandle>
			<GridLayout col="1" columns="auto, *" rows="auto,*" id="{{ isSelected ? 'itemSelectedStyle' : 'itemStyle' }}"  
				longPress="onLongPress"
				visibility="{{ isDeleted ?'collapsed' : 'visible' }}">
				<Image row="0" col="0" margin="5" src="res://ic_fav" opacity="{{ IsFavourite ? '1' : '0' }}" />
				<Label row="0" col="1" text="{{ Title }}" id="titleStyle" textWrap="true"/>
				<Label row="1" col="1" text="{{ Summary }}" id="contentStyle" textWrap="true"/>
			</GridLayout>
		</GridLayout>
		</StackLayout>
		</lv:RadListView.itemTemplate>
	</lv:RadListView>
	</StackLayout>
</Page>
